<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>joe di castro</title>
  <meta name="author" content="joe di castro" />
  <meta name="keywords" content="joe di castro, blog">
  <link rel="author" href="humans.txt" />
  <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
  <link href="./atom.xml" type="application/atom+xml" rel="alternate" title="joe di castro ATOM Feed" />
  <link href="./rss.xml" type="application/atom+xml" rel="alternate" title="joe di castro RSS Feed" />
  
  <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body id="index" class="home">

  <header id="banner" class="body">
    <h1><a href="."><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAxBAMAAADKNk2HAAAAElBMVEW/kiXQsGLey5vn3b/s5dH3+fXlDfF2AAADFElEQVRIDa3Bu3LbOABA0QtQ7KFo0TPOqmfiZU/PmD1A8v7/r6yejpPIkxlL5+BP85aQ/Ty8WhJH2U/Dixl2ky80fhqeVaJHI34answ0nlS8bR38GzwhejYzeFPK/g0ejUyezUzesuBHusEzPFjIXlS8qTR+YMYLPOiDVwVvStkPjBsvUFdar0rwlgU/wt4L1IJvusZbSuMHanh9nTxB7aNvaL0lZX8z86tJUVPj1cLeG2b8Xd1ut09P337w3+vr8/PzNxU1Ra8K3jJu/ECJvkHt2T151kdvYe8HUvYNaoXgGa03VJy84dkZf8KDeTd5MrP3hr6t0T+Nwb519QrfK3jDyj5l/8RGhgWv8L2u8c3kVQkuvrc8eVAZSrALXuF7ZJ3j10m/gyfLtk2tF2tirz1kNW1M7Urrwcvui+I7FV2A1gTBowpbhpfBkxRS60hkryPDgoWp0woM4jt9XDsIqe3Zd3snXYh2YWXwqA8L+4V/1qALWKJ96IJCZFrwHQIHmSeyOm40RWfaEj2qDH00RUujXcSUTdA6wgtzwJ9mCClQSXEdXBmsaGIi22dN2TR0TJKtoYQFa9gyrdD0kYxv1sRupoSOg439RlNrJc44ozWoldYRV3LZlGjKJTqG1EAjXi3QOm4K8IMwVXRlWKEdW1OrXdYVpoXWFE1tynMw5ZWcICheLMBkGhbiVBkkaw12MDHUoCtqR2NiGPke2TF0ecEeCzsVz1ZCH1xxZDC1do1a4gt9nMPMoLXRnpR7qLQpMfIlWDaVxhQ8wLMUJloXOrIVx+BBgZzaGslqaX1hk7Z0sFkhdiFl+0CKicEDPOkZKpNC1NK8sPeg0qwMM40HJXZEO3IhusDA16A9TYXsER5Vsn1U571aYOPJq3PUV49miLoMzkFddEpZHfTH5Ake0SjZi4WdN3z/11998Vd4MDJZ8F6oC1nTxnuh9kFn9t4LXcg6Bu+GjkGl9W4orVYm74aVSVPj/bCLOrP3fkjWPvgAVHQl+wCUqAUfga5VWh8BsgUfAvJK60NAk/AxSJB9DEY2Psj/Dz0Ida72jQIAAAAASUVORK5CYII=" alt="joe di castro" title="joe di castro" width="150" height="49" /> </a></h1>
      <nav>
      	<ul>
         
         <li ><a href="./category/blog.html">blog</a></li>
         <li><a href="./archives.html">archivos</a></li>
         <li><a href="./tags.html">etiquetas</a></li>
         
         <li><a href="./pages/markdown.html">markdown</a></li><li><a href="./pages/sobre-mi.html">sobre mi</a></li>
         
       </ul>
     </nav>
  </header><!-- /#banner -->        

          
    
    
    <aside id="featured" class="body">
      <article>
        <h1 class="entry-title"><a href="./pelican-repositorio.html">Pelican - Repositorio</a></h1> 
        <p>Como complemento a la <a href="static/tag/Pelican.html">serie de artículos</a> que he publicado sobre <a href="http://docs.notmyidea.org/alexis/pelican/">Pelican</a>, 
el software que genera este blog, añado el repositorio, <a href="static/pelican-configuracion-y-personalizacion.html">como había prometido</a>, 
del contenido del mismo. El repositorio emplea el sistema de control de versiones 
<a href="http://mercurial.selenic.com/">Mercurial</a> y está alojado en <a href="https://bitbucket.org/">Bitbucket</a>.</p>
<p>Las ventajas de disponer del contenido del blog en un repositorio son las de 
poder enmendar un error con suma facilidad y en muy poco tiempo, además de la de 
poder trabajar con distintas versiones del mismo (pruebas y producción). Además 
el repositorio en Bitbucket me proporciona una copia de seguridad adicional del 
sitio sin esfuerzo alguno. Y si alguien está interesado en crear su propio blog 
con Pelican y quiere saber como he realizado el mio, ahí tiene las claves. Salvo 
el propio Pelican (que no tendría mucho sentido) todo el material empleado para 
generarlo está en el. Y disponiendo del fichero <strong>fabric</strong>, se pueden descargar 
Pelican e instalar el entorno virtual en un minuto. </p>
<p>Para automatizar todas las tareas, incluso las más comunes del repositorio, he 
añadido al fichero fabric <em>fabfile.py</em> dos tareas más:</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">commit</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make a commit to the local mercurial repository.&quot;&quot;&quot;</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;hg commit -m &#39;{0}&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">message</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">push</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Make a push to the remote mercurial repository.&quot;&quot;&quot;</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&quot;hg push ssh://hg@bitbucket.org/joedicastro/joedicastro.com&quot;</span><span class="p">)</span>
</pre></div>


<p>Con estas puedo hacer un <code>commit</code> y un <code>push</code> a Bitbucket en un solo paso, por 
ejemplo:</p>
<div class="codehilite"><pre><span class="go">fab commit:&quot;Añadido articulo: Pelican - Repositorio&quot; push</span>
</pre></div>


<p>También he cambiado la página que generaba los archivos del blog, ya que no me 
gustaba el formato anterior: una fecha, un articulo. He pasado de esto:</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;section id=&quot;content&quot; class=&quot;body&quot;&gt;</span>
<span class="x">&lt;h1&gt;Archivos de </span><span class="cp">{{</span> <span class="nv">SITENAME</span> <span class="cp">}}</span><span class="x">&lt;/h1&gt;</span>

<span class="x">&lt;dl&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">dates</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;dt&gt;</span><span class="cp">{{</span> <span class="nv">article.locale_date</span> <span class="cp">}}</span><span class="x">&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;&lt;a href=&#39;</span><span class="cp">{{</span> <span class="nv">article.url</span> <span class="cp">}}</span><span class="x">&#39;&gt;</span><span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/dd&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/dl&gt;</span>
<span class="x">&lt;/section&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>


<p>a esto:</p>
<div class="codehilite"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;section id=&quot;content&quot; class=&quot;body&quot;&gt;</span>
<span class="x">&lt;h1&gt;Archivos de </span><span class="cp">{{</span> <span class="nv">SITENAME</span> <span class="cp">}}</span><span class="x">&lt;/h1&gt;</span>
<span class="cp">{%</span>- <span class="k">set</span> <span class="nv">years_month</span> <span class="o">=</span> <span class="o">{}</span> -<span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">set</span> <span class="nv">months</span> <span class="o">=</span> <span class="o">{</span><span class="m">1</span><span class="s1">:&#39;Enero&#39;</span><span class="o">,</span> <span class="m">2</span><span class="s1">:&#39;Febrero&#39;</span><span class="o">,</span> <span class="m">3</span><span class="s1">:&#39;Marzo&#39;</span><span class="o">,</span> <span class="m">4</span><span class="s1">:&#39;Abril&#39;</span><span class="o">,</span> <span class="m">5</span><span class="s1">:&#39;Mayo&#39;</span><span class="o">,</span> 
                  <span class="m">6</span><span class="s1">:&#39;Junio&#39;</span><span class="o">,</span> <span class="m">7</span><span class="s1">:&#39;Julio&#39;</span><span class="o">,</span> <span class="m">8</span><span class="s1">:&#39;Agosto&#39;</span><span class="o">,</span> <span class="m">9</span><span class="s1">:&#39;Septiembre&#39;</span><span class="o">,</span> 
                  <span class="m">10</span><span class="s1">:&#39;Octubre&#39;</span><span class="o">,</span> <span class="m">11</span><span class="s1">:&#39;Noviembre&#39;</span><span class="o">,</span> <span class="m">12</span><span class="s1">:&#39;Diciembre&#39;</span><span class="o">}</span> -<span class="cp">%}</span><span class="x"> </span>
<span class="cp">{%</span>- <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">dates</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span>- <span class="k">if</span> <span class="nv">article.date.year</span> <span class="k">not</span> <span class="k">in</span> <span class="nv">years_month</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">do</span> <span class="nv">years_month.update</span><span class="o">({</span><span class="nv">article.date.year</span><span class="o">:[</span><span class="nv">article.date.month</span><span class="o">]})</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span>- <span class="k">else</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">if</span> <span class="nv">article.date.month</span> <span class="k">not</span> <span class="k">in</span> <span class="nv">years_month</span><span class="o">[</span><span class="nv">article.date.year</span><span class="o">]</span> -<span class="cp">%}</span><span class="x"> </span>
<span class="x">      </span><span class="cp">{%</span>- <span class="k">do</span> <span class="nv">years_month</span><span class="o">[</span><span class="nv">article.date.year</span><span class="o">]</span><span class="nv">.append</span><span class="o">(</span><span class="nv">article.date.month</span><span class="o">)</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">year</span> <span class="k">in</span> <span class="nv">years_month</span><span class="o">|</span><span class="nf">sort</span><span class="o">(</span><span class="nv">reverse</span><span class="o">=</span><span class="kp">True</span><span class="o">)</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;h2 class=&quot;year&quot;&gt;</span><span class="cp">{{</span> <span class="nv">year</span> <span class="cp">}}</span><span class="x">&lt;/h2&gt;&lt;dl&gt;  </span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">month</span> <span class="k">in</span> <span class="nv">years_month</span><span class="o">[</span><span class="nv">year</span><span class="o">]</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;dt class=&quot;month&quot;&gt;</span><span class="cp">{{</span> <span class="nv">months</span><span class="o">[</span><span class="nv">month</span><span class="o">]</span> <span class="cp">}}</span><span class="x">&lt;/dt&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">dates</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">      </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">article.date.year</span> <span class="o">==</span> <span class="nv">year</span> <span class="k">and</span> <span class="nv">article.date.month</span> <span class="o">==</span> <span class="nv">month</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;dd&gt;&lt;span class=&quot;day&quot;&gt;</span><span class="cp">{{</span> <span class="nv">article.locale_date.split</span><span class="o">()[</span><span class="m">1</span><span class="o">]</span> <span class="cp">}}</span><span class="x">&lt;/span&gt;  &lt;a href=&#39;</span><span class="cp">{{</span> <span class="nv">article.url</span> <span class="cp">}}</span><span class="x">&#39;&gt;</span><span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/dd&gt;</span>
<span class="x">      </span><span class="cp">{%</span>- <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x">&lt;/dl&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/section&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>


<p>Donde los artículos están archivados por año, mes y día, con un formato que 
personalmente me agrada bastante más.</p>
<p>El repositorio de este blog se encuentra en 
<a href="https://bitbucket.org/joedicastro/joedicastro.com/">https://bitbucket.org/joedicastro/joedicastro.com/</a></p>
        <p>Hay <a href="./pelican-repositorio.html#disqus_thread">comentarios</a>.</p>
      </article>
      
    </aside><!-- /#featured -->
      
      <section id="content" class="body">
        <h1>Otros articulos</h1>
        <hr />
        <ol id="posts-list" class="hfeed">
      
    
    
    
        
    
     
      
            <li>
              <article class="hentry">    
                <header>
                  <h1><a href="./pelican-configuracion-y-personalizacion.html" rel="bookmark" title="Permalink a Pelican - Configuración y personalización">Pelican - Configuración y personalización</a></h1>
                </header> 
                <div class="entry-content">
                  <p>Con este articulo cierro la serie que le he dedicado a <a href="/tag/Pelican.html">Pelican</a> como 
herramienta idónea para crear blogs estáticos con mantenimiento cero. Aquí voy a 
tratar de la parte más compleja de Pelican, la que nos permite personalizarlo y 
adaptarlo a nuestros gustos y necesidades. El primer nivel de personalización ...</p>
                  <a class="readmore" href="./pelican-configuracion-y-personalizacion.html">leer más</a>
                  <p>Hay <a href="./pelican-configuracion-y-personalizacion.html#disqus_thread">comentarios</a>.</p>
                </div><!-- /.entry-content -->
              </article></li>
    
    
        
    
     
      
            <li>
              <article class="hentry">    
                <header>
                  <h1><a href="./pelican-publicacion-y-automatizacion.html" rel="bookmark" title="Permalink a Pelican - Publicación y automatización">Pelican - Publicación y automatización</a></h1>
                </header> 
                <div class="entry-content">
                  <p>Una vez que sabemos como <a href="/pelican-introduccion-e-instalacion.html">instalar Pelican</a> y <a href="/pelican-creacion-de-contenido.html">crear contenido</a> con él, es 
hora de saber como convertir ese contenido en un blog real disponible en 
internet. Es decir, saber como publicar ese contenido. Como hemos visto hasta 
ahora, al constar básicamente de simples ficheros HTML, un servidor de 
archivos ...</p>
                  <a class="readmore" href="./pelican-publicacion-y-automatizacion.html">leer más</a>
                  <p>Hay <a href="./pelican-publicacion-y-automatizacion.html#disqus_thread">comentarios</a>.</p>
                </div><!-- /.entry-content -->
              </article></li>
    
    
      <li id="paginator">
  
  Pagina 1 de 9
  
    <a href="./index2.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABYlBMVEUAAAABAQECAgIDAwMFBQUGBgYHBwcICAgJCQkKCgoLCwsMDAwNDQ0QEBARERESEhIXFxcYGBgaGhodHR0oKCgpKSksLCwtLS0uLi4yMjIzMzM0NDQ3Nzc8PDxDQ0NFRUVGRkZYWFhcXFxdXV1jY2NlZWV9fX2BgYGCgoKDg4OFhYWHh4eKioqLi4uMjIyOjo6SkpKVlZWWlpacnJydnZ2fn5+kpKSmpqapqamsrKytra2urq6vr6+zs7O1tbW2tra3t7e9vb3Dw8PExMTFxcXGxsbHx8fJycnKysrMzMzOzs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/i4uLj4+Pl5eXm5ubo6Ojp6enq6urr6+vs7Ozu7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7///+41hGNAAABZElEQVQYVyWR51vCQAzG48DKnbj33ntvpSqKA3ADKihaQbTWlqu9Xv5/U8yTD/e8SZ68+R0golLyVzg/juP+SqVIAFQoxXfpS3ie+Ho3hSQBED37493/yRzH7r/91w/bo04lbeMNY72RUKip5wwNw5YKlCjmcQMYZ5SwgPmi8EGaOTsb4bxjlwo8nKjkTA88I40TGuf9eNYW5uFBvDVcELkk1lIPG8VCS5iBlXq2oZI+LwOn0PqsQjuH5O29Bc71sV8VG0ZkopXD08WVCc7VEXb8j58CY/V4eE3i3YHYbggWnTYzHppROo2L/P55ZVDj7cs1jDd2ft7s5WyydLL6YA3XMI3xum6jvBInS9LMROcfcHOoq2tgBQtzeobM05mpnbl5A12B5cXZnVRwZgDkMro8NTY9PT65pF9WgQToitm4vrW+tqXHs8UqOmLqu1bp5TGdfnwpWa7/D5m+QylfUvjBi4Q/dvFzY07mp8kAAAAASUVORK5CYII=" alt="&laquo;" title="siguiente" width="20" height="20" /></a>
  
</li>
    

    
     </ol><!-- /#posts-list -->
    </section><!-- /#content -->


<section id="extras" class="body">
    
    <div class="blogroll">
      <h2>enlaces</h2>
        <ul>
          <li><a href="http://photo.joedicastro.com/">Fotografías</a></li>
          <li><a href="http://code.joedicastro.com/">Código</a></li>
          <li><a href="http://python.majibu.org/">python majibu</a></li>
          <li><a href="http://python-hispano.org/">python hispano</a></li>
          <li><a href="http://planet.python-hispano.org/">planeta python hispano</a></li>
        </ul>
    </div><!-- /.blogroll -->
    
    
    <div class="social">
      <h2>social</h2>
        <ul>
          <li><a href="./atom.xml" rel="alternate">atom</a></li>
          <li><a href="./rss.xml" rel="alternate">rss</a></li>
          
          <li><a href="http://twitter.com/joe_di_castro">twitter</a></li>
          <li><a href="http://identi.ca/joedicastro">identi.ca</a></li>
          <li><a href="http://www.facebook.com/joedicastr0">facebook</a></li>
          <li><a href="https://bitbucket.org/joedicastro">bitbucket</a></li>
        </ul>
    </div><!-- /.social -->
    
  </section><!-- /#extras -->
  <footer id="contentinfo" class="body">
    <address id="about" class="vcard body">
      © 2010-2011 joe di castro. Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a><span id="license">Los contenidos están bajo una <a href="http://creativecommons.org/licenses/by-sa/3.0/es">licencia Creative Commons</a></span>
    </address><!-- /#about -->
  </footer><!-- /#contentinfo -->

  <script type="text/javascript">
    
        var pkBaseURL = (("https:" == document.location.protocol) ? "https://joedicastro.com/piwik/" : "http://joedicastro.com/piwik/");
    
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
  </script><noscript><p><img src="http://joedicastro.com/piwik/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>


<script type="text/javascript">
    var disqus_shortname = 'joedicastro';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</body>
</html>